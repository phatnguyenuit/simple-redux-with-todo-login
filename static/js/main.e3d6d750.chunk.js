(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{32:function(e,t,a){e.exports=a.p+"static/media/null_icon.8868fa3b.png"},48:function(e,t,a){e.exports=a(76)},49:function(e,t,a){},68:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"actionAddTodo",function(){return T}),a.d(n,"actionSearchTodo",function(){return N}),a.d(n,"actionLoadTodo",function(){return j}),a.d(n,"actionUpdateTodo",function(){return I});var r={};a.r(r),a.d(r,"actionLogin",function(){return D}),a.d(r,"actionLogout",function(){return L});var o={};a.r(o),a.d(o,"actionToggleFilter",function(){return k});var l={};a.r(l),a.d(l,"actionToggleTag",function(){return S}),a.d(l,"actionAddTag",function(){return x});a(49),a(50),a(37),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=a(0),i=a.n(c),s=a(27),u=a.n(s),d=a(10),m=function(e){return console.log("page about props: ",e),i.a.createElement("div",{className:"row my-mt-5"},"This is about page")},p=a(1),v=a(32),g=a.n(v),b=a(2),f=[{id:Object(b.uniqueId)("TODO_"),user_id:1,description:"Learn React",status:"finished",priority:"very_high",tags:["frontend","api"]},{id:Object(b.uniqueId)("TODO_"),user_id:1,description:"Learn Java",status:"finished",priority:"low",tags:["backend","api"]},{id:Object(b.uniqueId)("TODO_"),user_id:1,description:"Learn Angular 4",status:"not_start",priority:"normal",tags:["frontend","api"]},{id:Object(b.uniqueId)("TODO_"),user_id:1,description:"Code login feature",status:"canceled",priority:"low",tags:["backend","api"]},{id:Object(b.uniqueId)("TODO_"),user_id:2,description:"Sleeping...",status:"pending",priority:"very_low",tags:["issue"]}],h=[{id:Object(b.uniqueId)("TAG_"),name:"frontend",active:!1},{id:Object(b.uniqueId)("TAG_"),name:"backend",active:!1},{id:Object(b.uniqueId)("TAG_"),name:"api",active:!1},{id:Object(b.uniqueId)("TAG_"),name:"issue",active:!1}],E=[{id:Object(b.uniqueId)("FILTER_"),icon:"indent",name:"all",display:"All",active:!0},{id:Object(b.uniqueId)("FILTER_"),icon:"spinner",name:"pending",display:"Pending",active:!1},{id:Object(b.uniqueId)("FILTER_"),icon:"anchor",name:"not_start",display:"Not start",active:!1},{id:Object(b.uniqueId)("FILTER_"),icon:"check-square",name:"finished",display:"Finished",active:!1},{id:Object(b.uniqueId)("FILTER_"),icon:"trash",name:"canceled",display:"Canceled",active:!1}],O=[{id:1,icon:g.a,name:"Nguyen Tan Phat",login:"phatnguyen",password:"phatnguyen"},{id:2,icon:g.a,name:"Nguyen Tan Tai",login:"tainguyen",password:"tainguyen"}],y=[{value:"normal",name:"Normal"},{value:"low",name:"Low"},{value:"very_low",name:"Very Low"},{value:"high",name:"High"},{value:"very_high",name:"Very High"}],T=function(e){var t=!1;return e.description&&(t=Object(p.a)({id:Object(b.uniqueId)("TODO_"),status:"not_start"},e)),{type:"ACTION_ADD_TODO",payload:{todo:t}}},N=function(e){return{type:"ACTION_SEARCH_TODO",payload:{query:e}}},j=function(e){return{type:"ACTION_LOAD_TODO",payload:{user_id:e}}},I=function(e,t){return{type:"ACTION_UPDATE_TODO",payload:{id:e,values:t}}},_="/",w="/login",C="/about",A=a(6),D=function(e,t){return function(a){a({type:"ACTION_LOGIN_PENDING"}),setTimeout(function(){return new Promise(function(a,n){var r=O.filter(function(t){return t.login===e});r&&r[0].password===t?a(r[0]):n(new Error("Wrong username or passwrod!"))}).then(function(e){a({type:"ACTION_LOGIN_SUCESS",payload:{user:e}}),a(j(e.id)),a(Object(A.d)("".concat(_)))}).catch(function(e){a(function(e){return{type:"ACTION_LOGIN_FAIL",payload:{error:e}}}(e.message))})},3e3)}},L=function(){return{type:"ACTION_LOGOUT"}},k=function(e){return{type:"ACTION_TOGGLE_FILTER",payload:{activeFilter:e}}},S=function(e){return{type:"ACTION_TOGGLE_TAG",payload:{activeTag:e}}},x=function(e){return{type:"ACTION_ADD_TAG",payload:{tags:e}}},F=a(3),G=Object(F.c)(function(e){var t=e.authenticationReducer;return{error:t.error,isLoading:t.isLoading}})(function(e){var t=e.dispatch,a=e.error,n=e.isLoading;return i.a.createElement("form",{onSubmit:function(e){e.preventDefault(),function(e,t){var a=e.target.userName.value.trim(),n=e.target.userPassword.value.trim();t(r.actionLogin(a,n))}(e,t)}},i.a.createElement("p",null,"Use account (",i.a.createElement("code",null,"phatnguyen/phatnguyen"),")"),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:"user_id"},"User Name:"),i.a.createElement("input",{className:"form-control",name:"userName"})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:"password"},"Password:"),i.a.createElement("input",{className:"form-control",name:"userPassword",type:"password"})),a&&i.a.createElement("div",{className:"alert alert-danger alert-dismissible fade show",role:"alert"},i.a.createElement("strong",null,"Error!"),a,i.a.createElement("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close"},i.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),i.a.createElement("div",{className:"form-group"},i.a.createElement("button",{type:"submit",className:"btn btn-primary"},n?"Wait...":"Login")))}),R=function(){return i.a.createElement("div",{className:"row my-mt-5"},i.a.createElement("div",{className:"col-lg-4 col-sm-5 mx-auto"},i.a.createElement("h2",null,"Login"),i.a.createElement(G,null)))},q=a(18),P=function(e){var t=e.dispatch,a=e.user,o=a.name,l=a.icon,c=function(e){t(n.actionSearchTodo(e))};return i.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light fixed-top"},i.a.createElement(q.a,{className:"navbar-brand",to:"/"},i.a.createElement("h3",null,"Todo list")),i.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},i.a.createElement("span",{className:"navbar-toggler-icon"})),i.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},i.a.createElement("ul",{className:"navbar-nav mr-auto"},i.a.createElement("li",{className:"nav-item active"},i.a.createElement(q.a,{className:"nav-link",to:"/"},"Home")),i.a.createElement("li",{className:"nav-item"},i.a.createElement(q.a,{className:"nav-link",to:"/about"},"About")),a&&i.a.createElement("li",{className:"nav-item dropdown"},i.a.createElement("span",{className:"nav-link dropdown-toggle pointer",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.createElement("img",{src:l,width:"30px",height:"30px",className:"img img-thumbnail",alt:"user_logo"}),i.a.createElement("span",null,o)),i.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown"},i.a.createElement(q.a,{className:"dropdown-item",to:"/not-match"},"Not match"),i.a.createElement(q.a,{className:"dropdown-item",to:"/another-not-match"},"Another not match"),i.a.createElement("div",{className:"dropdown-divider"}),i.a.createElement("span",{className:"dropdown-item btn btn-danger pointer",role:"button",onClick:function(e){e.preventDefault(),t(r.actionLogout()),t({type:"ACTION_RESET_STATE"})}},"Log Out")))),i.a.createElement("form",{className:"form-inline my-2 my-lg-0",onSubmit:function(e){e.preventDefault();var t=e.target.searchTodo.value.trim();c(t)}},i.a.createElement("input",{className:"form-control mr-sm-2",type:"text",name:"searchTodo",onChange:function(e){e.preventDefault();var t=e.target.value.trim();c(t)}}),i.a.createElement("button",{className:"btn btn-outline-success my-2 my-sm-0",type:"submit"},"Search"))))},U=function(e){return console.log("page not found props: ",e),i.a.createElement("div",{className:"row my-mt-5"},"No match")},V=a(5),H=a(13),M=a(14),W=a(16),z=a(15),B=a(17),J=(a(68),function(e){var t=e.value,a=e.onDelete;return i.a.createElement("span",{className:"badge badge-pill badge-success mr-1"},t," ",i.a.createElement("span",{className:"remove",onClick:a}))}),K=function(e){function t(e){var a;return Object(H.a)(this,t),(a=Object(W.a)(this,Object(z.a)(t).call(this,e))).handleClickTags=function(e){var t=e.target.firstElementChild;t&&t.focus()},a.hanldeInputEvents=function(e){switch(e.type){case"change":return a.handleInputChange(e);case"keydown":return a.handleInputKeyDown(e)}},a.handleInputKeyDown=function(e){var t=a.state.tags,n=e.target.value;switch(e.key){case"Enter":a.setState({value:"",tags:[].concat(Object(V.a)(t),[n]),suggestedTags:[]});break;case"Backspace":""===n&&a.removeLastestItem();break;default:a.handleInputChange(e)}},a.handleInputChange=function(e){var t=e.target.value;a.setState({value:t})},a.handleDeleteTag=function(e){return function(t){t.preventDefault();var n=a.state.tags,r=n.indexOf(e);r>-1&&a.setState({tags:[].concat(Object(V.a)(n.slice(0,r)),Object(V.a)(n.slice(r+1)))})}},a.state={tags:e.defaultTags||[],value:""},a}return Object(B.a)(t,e),Object(M.a)(t,[{key:"componentDidUpdate",value:function(e,t){var a=this.state.tags,n=t.tags;!(!a.length&&!n.length)&&(a.length!==n.length||a.some(function(e){return!n.includes(e)}))&&this.props.setTagValues(a)}},{key:"componentWillReceiveProps",value:function(e){e.reset!==this.props.reset&&this.setState({value:"",tags:[]})}},{key:"removeLastestItem",value:function(){var e=this.state.tags;this.setState({value:"",tags:e.slice(0,-1)})}},{key:"render",value:function(){var e=this,t=this.state,a=t.value,n=t.tags;return i.a.createElement("div",{className:"tags",onClick:this.handleClickTags},i.a.createElement("div",{className:"input-tags"}," ",n.map(function(t){return i.a.createElement(J,{key:t,value:t,onDelete:e.handleDeleteTag(t)})})," ",i.a.createElement("input",{value:a,onChange:this.hanldeInputEvents,onKeyDown:this.hanldeInputEvents})," ")," ")}}]),t}(c.Component),Y=[],Z=function(e){return function(t){t.preventDefault();var a=document.forms.namedItem("addTodoForm"),r=a.description,o=r.value.trim();r.value="";var c=a.priority,i=c.value.trim();c.value="-";var s={description:o,priority:i,tags:Y};e(n.actionAddTodo(s)),e(l.actionAddTag(Y))}},$=Object(F.c)(function(e){var t=e.todoReducer;return{error:t.error,reset:t.reset}})(function(e){var t=e.dispatch,a=e.error,n=e.reset;return i.a.createElement(i.a.Fragment,null,i.a.createElement("button",{type:"button",className:"btn btn-primary","data-toggle":"modal","data-target":"#addTodoModal"},"Create new todo"),i.a.createElement("div",{className:"modal fade",id:"addTodoModal",tabIndex:"-1",role:"dialog","aria-labelledby":"addTodoModalLabel","aria-hidden":"true","data-backdrop":"static","data-keyboard":"false"},i.a.createElement("div",{className:"modal-dialog",role:"document"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("div",{className:"modal-header"},i.a.createElement("h5",{className:"modal-title",id:"addTodoModalLabel"},"Add ToDo"),i.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},i.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),i.a.createElement("div",{className:"modal-body"},i.a.createElement("form",{id:"addTodoForm",onSubmit:function(e){return e.preventDefault()}},i.a.createElement("div",{className:"form-group text-left"},i.a.createElement("label",{htmlFor:"description",className:"col-form-label text-left"},"Description:"),i.a.createElement("textarea",{className:"form-control",id:"description",name:"description"})),i.a.createElement("div",{className:"form-group text-left"},i.a.createElement("label",{htmlFor:"priority",className:"col-form-label text-left"},"Priority:"),i.a.createElement("select",{className:"form-control",id:"priority",name:"priority"},i.a.createElement("option",{value:"normal"},"Normal"),i.a.createElement("option",{value:"low"},"Low"),i.a.createElement("option",{value:"very_low"},"Very Low"),i.a.createElement("option",{value:"high"},"High"),i.a.createElement("option",{value:"very_high"},"Very High"))),i.a.createElement("div",{className:"form-group text-left"},i.a.createElement("label",{htmlFor:"tags",className:"col-form-label text-left"},"Tags:"),i.a.createElement(K,{setTagValues:function(e){Y=e},reset:n})),a&&i.a.createElement("div",{className:"alert alert-danger fade show",role:"alert"},i.a.createElement("strong",null,"Error!"),a))),i.a.createElement("div",{className:"modal-footer"},i.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:Z(t)},"Add"),i.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Close"))))))}),Q=a(22),X=Object(F.c)(function(e,t){var a=e.filterReducer.activeFilter;return{active:t.name===a}})(function(e){var t=e.dispatch,a=e.name,n=e.icon,r=e.display,l=e.active;return i.a.createElement("li",null,i.a.createElement("button",{className:"btn btn-block mb-1 text-left "+(l?"btn-success":"btn-default"),onClick:function(e){e.preventDefault(),t(o.actionToggleFilter(a))}},i.a.createElement(Q.Icon,{name:n}),i.a.createElement("span",{className:"ml-2"},r)))}),ee=Object(F.c)(function(e){return{filters:e.filterReducer.filters}})(function(e){var t=e.filters;return i.a.createElement("ul",{className:"list-unstyled ml-3"},t.map(function(e){return i.a.createElement(X,Object.assign({key:e.id},e))}))}),te=function(e,t){return function(a){a.preventDefault(),e(l.actionToggleTag(t))}},ae=function(e){var t=e.dispatch,a=e.name,n=e.active;return i.a.createElement("li",null,i.a.createElement("span",{className:"mb-1 text-left badge badge-pill pointer "+(n?"badge-success":"badge-secondary"),onClick:te(t,a)},i.a.createElement("span",null,a)))},ne=Object(F.c)(function(e){return{tags:e.tagReducer.tags}})(function(e){var t=e.tags,a=e.dispatch;return i.a.createElement("ul",{className:"list-unstyled ml-3"},t.map(function(e){return i.a.createElement(ae,Object.assign({key:e.id,dispatch:a},e))}))}),re=a(28),oe=function(e){function t(e){var a;Object(H.a)(this,t),(a=Object(W.a)(this,Object(z.a)(t).call(this,e))).handleUpdateStatus=function(e,t){return function(r){r.preventDefault();var o=r.currentTarget.value;a.setState({status:o}),t(n.actionUpdateTodo(e,{status:o}))}};var r=e.status,o=void 0===r?"not_start":r;return a.state={status:o},a}return Object(B.a)(t,e),Object(M.a)(t,[{key:"render",value:function(){var e=this.state.status,t=this.props,a=t.id,n=t.sequence,r=t.description,o=t.tags,l=t.priority,c=t.className,s=t.icon,u=t.statusOptions,d=t.dispatch,m=t.handleEdit;return i.a.createElement("tr",null,i.a.createElement("th",{scope:"row"},n),i.a.createElement("td",null,r),i.a.createElement("td",null,o.map(function(e){return i.a.createElement("span",{className:"text-left badge badge-pill badge-secondary mr-1",key:Object(b.uniqueId)(e)},e)})),i.a.createElement("td",{className:c},Object(b.capitalize)(l).replace("_"," ")),i.a.createElement("td",null,i.a.createElement("div",{className:"form-inline"},i.a.createElement("div",{className:"form-group"},i.a.createElement("button",{className:"btn btn-outline-danger mx-2 my-sm-0",onClick:m},"Edit")),i.a.createElement("div",{className:"form-group"},i.a.createElement("select",{className:"form-control",onChange:this.handleUpdateStatus(a,d),value:e},u.map(function(e){var t=e.name,a=e.value,n="all"===a;return i.a.createElement("option",{value:a,key:a,disabled:n},t)}))))),i.a.createElement("td",null,i.a.createElement(Q.Icon,{name:s})))}}]),t}(i.a.Component),le=function(e){function t(e){var a;Object(H.a)(this,t),(a=Object(W.a)(this,Object(z.a)(t).call(this,e))).setTagValues=function(e){a.setState({tags:e})},a.handleInputOnchange=function(e){e.preventDefault(),a.setState({description:e.currentTarget.value})},a.handlePriorityOnChange=function(e){e.preventDefault(),a.setState({priority:e.currentTarget.value})},a.doSave=function(e){e.preventDefault();var t=a.props.id;a.props.handleSave(t,Object(p.a)({},a.state))},a.doCancel=function(e){e.preventDefault(),a.props.handleCancel()};var n=e.description,r=void 0===n?"":n,o=e.tags,l=void 0===o?[]:o,c=e.priority,i=void 0===c?"normal":c;return a.state={description:r,tags:l,priority:i},a}return Object(B.a)(t,e),Object(M.a)(t,[{key:"render",value:function(){var e=this.state,t=e.description,a=e.tags,n=e.priority,r=this.props,o=r.sequence,l=r.icon;return i.a.createElement("tr",null,i.a.createElement("th",{scope:"row"},o),i.a.createElement("td",null,i.a.createElement("input",{className:"form-control",value:t,onChange:this.handleInputOnchange})),i.a.createElement("td",null,i.a.createElement(K,{defaultTags:a,setTagValues:this.setTagValues})),i.a.createElement("td",null,i.a.createElement("select",{className:"form-control",value:n,onChange:this.handlePriorityOnChange},y.map(function(e){var t=e.name,a=e.value;return i.a.createElement("option",{value:a,key:a},t)}))),i.a.createElement("td",null,i.a.createElement("div",{className:"form-inline"},i.a.createElement("div",{className:"form-group"},i.a.createElement("button",{className:"btn btn-outline-primary mx-2 my-sm-0",onClick:this.doSave},"Save")),i.a.createElement("div",{className:"form-group"},i.a.createElement("button",{className:"btn btn-outline-danger mx-2 my-sm-0",onClick:this.doCancel},"Cancel")))),i.a.createElement("td",null,i.a.createElement(Q.Icon,{name:l})))}}]),t}(i.a.Component),ce=E.reduce(function(e,t){return Object(p.a)({},e,Object(re.a)({},t.name,Object(p.a)({},t)))},{}),ie=E.map(function(e){var t=e.name;return{name:e.display,value:t}}),se={very_low:"bg-muted",low:"bg-info",normal:"bg-primary",high:"bg-warning",very_high:"bg-danger"},ue=function(e){function t(e){var a;return Object(H.a)(this,t),(a=Object(W.a)(this,Object(z.a)(t).call(this,e))).handleEdit=function(e){e.preventDefault(),a.toggleEditable()},a.handleSave=function(e,t){var r=a.props.dispatch;a.toggleEditable(),r(n.actionUpdateTodo(e,t)),r(l.actionAddTag(t.tags))},a.handleCancel=function(){a.toggleEditable()},a.state={editable:!1},a}return Object(B.a)(t,e),Object(M.a)(t,[{key:"toggleEditable",value:function(){var e=this.state.editable;this.setState({editable:!e})}},{key:"render",value:function(){var e=this.state.editable,t=this.props,a=t.id,n=t.description,r=t.tags,o=t.priority,l=t.status,c=t.dispatch,s=a.split("TODO_")[1],u=ce[l].icon,d={id:a,sequence:s,description:n,tags:r,priority:o,status:l,className:se[o],icon:u,dispatch:c,statusOptions:ie,handleEdit:this.handleEdit,handleSave:this.handleSave,handleCancel:this.handleCancel};return e?i.a.createElement(le,d):i.a.createElement(oe,d)}}]),t}(i.a.Component),de=Object(F.c)(function(e){var t=e.todoReducer.visibleTodos,a=e.filterReducer.activeFilter,n=e.tagReducer.activeTags;return{visibleTodos:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.length?e.filter(function(e){return t.every(function(t){return e.tags.includes(t)})}):e}(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t&&"all"!==t?e.filter(function(e){return e.status===t}):e}(t,a),n)}})(function(e){var t=e.visibleTodos,a=e.dispatch;return i.a.createElement("div",{className:"table-responsive"},i.a.createElement("table",{className:"table table-striped table-hover"},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"ID"),i.a.createElement("th",null,"Description"),i.a.createElement("th",null,"Tags"),i.a.createElement("th",null,"Priority"),i.a.createElement("th",null,"Action"),i.a.createElement("th",null,"Status"))),i.a.createElement("tbody",null,t.map(function(e){return i.a.createElement(ue,Object.assign({key:e.id,dispatch:a},e))}))))}),me=function(){return i.a.createElement("div",{className:"row my-mt-5",id:"content"},i.a.createElement("div",{className:"col-lg-2 col-sm-4",id:"sidebar"},i.a.createElement("div",{className:"text-center"},i.a.createElement($,null)),i.a.createElement("div",{className:"column"},i.a.createElement("span",{className:"font-weight-bold"},"Filters"),i.a.createElement(ee,null)),i.a.createElement("div",{className:"column",id:"tag"},i.a.createElement("span",{className:"font-weight-bold"},"Tags"),i.a.createElement(ne,null)),i.a.createElement("div",{className:"column",id:"priority"},i.a.createElement("span",{className:"font-weight-bold"},"Priorities"),i.a.createElement("select",{className:"form-control"},i.a.createElement("option",{value:"all"},"All"))),i.a.createElement("div",{className:"column",id:"order"},i.a.createElement("span",{className:"font-weight-bold"},"Order by"),i.a.createElement("select",{className:"form-control"},i.a.createElement("option",{value:"az"},"A to Z")))),i.a.createElement("div",{className:"col-lg-10 col-sm-8",id:"content"},i.a.createElement("h2",{className:"text-center"},"Your Todo List"),i.a.createElement(de,null)))},pe=Object(F.c)(function(e){return{user:e.authenticationReducer.user,location:e.router.location}})(function(e){var t=e.dispatch,a=e.user;return i.a.createElement(i.a.Fragment,null,i.a.createElement(P,{user:a,dispatch:t}),i.a.createElement("div",{className:"container-fluid",role:"main"},i.a.createElement(d.d,null,i.a.createElement(d.b,{exact:!0,path:_,render:function(e){return console.log("test",a),a?i.a.createElement(me,null):i.a.createElement(d.a,{to:{pathname:"".concat(w)},push:!0})}}),i.a.createElement(d.b,{path:w,component:R,exact:!0}),i.a.createElement(d.b,{path:C,component:m,exact:!0}),i.a.createElement(d.b,{component:U}))),i.a.createElement("footer",{id:"footer"},i.a.createElement("div",{className:"container"},"Copyright Phat Nguyen")))}),ve=a(21),ge=a(44),be=a(9),fe=a(25),he=a(45),Ee=a.n(he),Oe=a(8),ye=a(46),Te={user:!1,error:"",isLoading:!1},Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ACTION_LOGIN_PENDING":return Object(p.a)({},e,{isLoading:!0});case"ACTION_LOGIN_SUCESS":var a=t.payload.user;return Object(p.a)({},e,{user:a,isLoading:!1,error:""});case"ACTION_LOGIN_FAIL":var n=t.payload.error;return Object(p.a)({},e,{error:n,isLoading:!1,user:!1});case"ACTION_LOGOUT":return Object(p.a)({},Te);default:return Object(p.a)({},e)}},je={filters:E,activeFilter:E[0].name},Ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ACTION_TOGGLE_FILTER":var a=t.payload.activeFilter,n=e.filters.map(function(e){var t=!1;return e.name===a&&(t=!0),Object(p.a)({},e,{active:t})});return Object(p.a)({},e,{activeFilter:a,filters:n});default:return Object(p.a)({},e)}},_e=a(29),we=a.n(_e),Ce={tags:h,activeTags:[]},Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ACTION_TOGGLE_TAG":var a=t.payload.activeTag,n=e.tags,r=Object(V.a)(n),o=!0,l=!1,c=void 0;try{for(var i,s=r[Symbol.iterator]();!(o=(i=s.next()).done);o=!0){var u=i.value;u.name===a&&(u.active=!u.active)}}catch(g){l=!0,c=g}finally{try{o||null==s.return||s.return()}finally{if(l)throw c}}var d=r.filter(function(e){return!0===e.active}).map(function(e){return e.name});return Object(p.a)({},e,{activeTags:d,tags:r});case"ACTION_ADD_TAG":var m=Object(V.a)(e.tags),v=t.payload.tags.filter(function(e){return m.every(function(t){return t.name!==e})}).map(function(e){return{id:Object(b.uniqueId)("TAG_"),name:e,active:!1}});return Object(p.a)({},e,{tags:[].concat(Object(V.a)(m),Object(V.a)(v))});default:return Object(p.a)({},e)}},De=a(30),Le=a.n(De),ke={todoIds:[],visibleTodoIds:[],todos:[],visibleTodos:[],error:"",reset:!1},Se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ACTION_LOAD_TODO":var a=t.payload.user_id,n=f.filter(function(e){return e.user_id===a});return Object(p.a)({},e,{todoIds:n.map(function(e){return e.id}),visibleTodoIds:n.map(function(e){return e.id}),todos:Object(V.a)(n),visibleTodos:Object(V.a)(n)});case"ACTION_ADD_TODO":var r=t.payload.todo,o=e.reset;if(r){var l=e.todoIds,c=e.todos,i=e.visibleTodoIds,s=e.visibleTodos;return Le()("#addTodoModal").modal("hide"),Object(p.a)({},e,{todoIds:[].concat(Object(V.a)(l),[r.id]),visibleTodoIds:[].concat(Object(V.a)(i),[r.id]),todos:[].concat(Object(V.a)(c),[r]),visibleTodos:[].concat(Object(V.a)(s),[r]),error:"",reset:!o})}return Object(p.a)({},e,{error:"Todo description is not allowed to be empty!"});case"ACTION_SEARCH_TODO":var u=t.payload.query,d=e.todos,m=u?d.filter(function(e){return e.description.toLowerCase().includes(u.toLowerCase())}):d;return Object(p.a)({},e,{visibleTodoIds:m.map(function(e){return e.id}),visibleTodos:Object(V.a)(m)});case"ACTION_UPDATE_TODO":var v=t.payload,g=v.id,b=v.values,h=e.todos,E=e.visibleTodoIds,O=h.map(function(e){return e.id===g?Object(p.a)({},e,b):e}),y=O.filter(function(e){return E.includes(e.id)});return Object(p.a)({},e,{todos:O,visibleTodos:y});default:return Object(p.a)({},e)}},xe=a(40),Fe=a(47),Ge=Object(Oe.a)({basename:"/simple-redux-with-todo-login"}),Re=function(e){var t=Object(be.c)({router:Object(ve.b)(e),authenticationReducer:Ne,todoReducer:Se,filterReducer:Ie,tagReducer:Ae});return function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=a.payload;switch(a.type){case fe.a:return Object(p.a)({},e,n);case"ACTION_RESET_STATE":return Object.keys(e).forEach(function(e){we.a.removeItem("persist:".concat(e))}),t(e=void 0,a);default:return t(e,a)}}}(Ge),qe={storage:we.a,key:"root",stateReconciler:Ee.a,blacklist:["router"],serialize:!0},Pe=Object(fe.b)(qe,Re),Ue=Object(ye.createLogger)(),Ve=function(){var e=Object(be.d)(Pe,{},Object(be.a)(Object(xe.a)(Ge),Fe.a,Ue));return{store:e,persistor:Object(fe.c)(e)}}(),He=Ve.store,Me=Ve.persistor,We=function(){return i.a.createElement(F.a,{store:He},i.a.createElement(ge.a,{loading:null,persistor:Me},i.a.createElement(ve.a,{history:Ge},i.a.createElement(d.c,{history:Ge},i.a.createElement(pe,null)))))};u.a.render(i.a.createElement(We,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[48,1,2]]]);
//# sourceMappingURL=main.e3d6d750.chunk.js.map